---
import "@fontsource-variable/jetbrains-mono";

interface Props {
  linkItem: any;
  category?: boolean;
}

const { linkItem, category = false } = Astro.props;
---

<div class="devlinxItem">
  {
    linkItem.data.image && !linkItem.data.icon && (
      <div class="devlinxItem__icon as-image">
        <img src={linkItem.data.image} alt="" />
      </div>
    )
  }

  {
    linkItem.data.icon && !linkItem.data.image && (
      <div class="devlinxItem__icon as-icon" set:html={linkItem.data.icon} />
    )
  }

  {
    !linkItem.data.icon && !linkItem.data.image && (
      <div class="devlinxItem__icon as-text">{linkItem.data.name.charAt(0)}</div>
    )
  }

  <div class="devlinxItem__name">
    <a class="_link" href={linkItem.data.href}>{linkItem.data.name}</a>
  </div>

  <p class="devlinxItem__description">{linkItem.data.description}</p>
</div>

<style lang="scss" is:global>
  .devlinxItem {
    display: grid;
    grid-template-columns: 4rem minmax(0, 1fr);
    grid-template-areas: "icon name" "icon description";
    align-items: start;
    column-gap: 1rem;

    &__icon {
      grid-area: icon;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--app-color-text-primary);
      font-size: 4rem;

      &.as-text {
        font-family: var(--app-font-family-primary);
        font-weight: 800;
      }
    }

    &__name {
      grid-area: name;
      display: flex;
      align-items: center;
      gap: 1rem;
      font-family: var(--app-font-family-primary);
      font-size: 2rem;
    }

    &__description {
      grid-area: description;
      color: var(--app-color-text-secondary);
      font-family: monospace;
      font-size: 1rem;
      text-wrap: balance;
    }

    ._link {
      color: inherit;
      text-decoration: none;

      &:hover {
        &::after {
          content: "_";
          animation: blink 1.5s infinite both;
        }
      }
    }
  }
</style>
